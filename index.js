/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={968(t,e,n){t.exports=n(303).ImageDetect.imageDataFromBase64("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")},131(t,e,n){t.exports=n(303).ImageDetect.imageDataFromBase64("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")},427(t,e,n){t.exports=n(303).ImageDetect.imageDataFromBase64("iVBORw0KGgoAAAANSUhEUgAAACAAAAAfCAYAAACGVs+MAAAAAW5vUEUAYtdMlAAAAARub1BFAAAAAEEgjiIAAAAJbm9QRQAAAAAAAAAAAKGKctUAAAU+SURBVFhHvVdLb1tFFL6INCXNw2kebeJc+/oZ27FjojhxEid+5EUjoCRK1CYhbaUKaAVVq6rQSAQKiiqBgCULEEIs2gUSiB0LFkj8AP4DEiobtmxZHOYb+7uZe3vbsEAsPs3r3PN9c+bM8di6c+1l+eT9y/LxwZ7c39+WD+9sycGtV2T/rRfl7evn5PZrK3Lz6qLcuFKXNy9X5frevFx7tfKf4I3dilggX2/kZHet+K+wVknJTikun65OyndbS/K9whcbVbm1XJCPXpiUbzcX9TzWdyujgT5MWNg5OqVsxMXEaFguldNyr1aUG+vjcnNjXL4+X5OHGw35fLUkM4W4xgeXJuWHrWU9hxbgHFrM32887/FtYjJri4WwU0DhTLssREMeh378+NlF3e4UlIPhHt3C/qCR162/D6wk+iU3cEJG+9pkbPCEFAbbJa9ajC2cOQVMDHdI1H5OQh1t2jGITEcmsAYi2MOW8NshEu8qu+lIjzihdplPnJbG6IDUUn1SjvaIhYSjgFiL3LKe0QDBcSJAykgA3P2FekL3OX4pOyT1dL8sJPtcVBUsZDsE5JOD2hGdQQhAEXQWhHKu0yMChOwTF/O2lMIdMm13yky0W2MuFhILVw0CmFj8AA4RBR4HiLhmgvP+KATZz8ZU+DNnpJYe0EexoGDdfn1FztfHtAMIwG64o4iT8OTE00Tg2+OiMB7ulkq8V5Oj1QJQZFbnMu7uQY4W5ACcAhCBtSeJAEwBQVEYd5oCcP5oq8l+sVDh1uZSLjFhCsAYLY7EJPEDa34Re73NW4INbuTCbgLi/GspJQDlFZXwaQLoFDbMC789QXuQ//HoUNcNHuEFlYgUMOv0qFsxIBZq+865cY9ywC+ATgE4hBB/DQBgB3FfvZOR3365Kn/9/kCLYCSmEir0aucQ0MieFQs/CrgFjt3hyYMgAVhDcgGwhRCCNuiDHAApbH/9Zlt/C/GbYyNaAHJg0SMg0uEh9AuAKLQUwQKFMeZ5W4B7D3Ly0+GUFnAYG9B2IIdtKRzSAgCPgEQ8rgnhiKT+CPCqAXDGXZkEWLuymdYRoA0LGda21RjkqAVLuaEjAfHUkQDCL+BJiQeAwBSBCHANAjFmeQY5RCyPDR8JmEiPeATAiV8AYIogqZ8cx/Do53l99jPtz8qXd5fk7z/33SODgMcioH+fWyQUAARFgfmAFsfin0OL3eIWACDHTYAYrIG8PjrojcBkxnZ3ZjoKigLtgoBIYKdIQGzk7nt5nQ/0B5tAAet57zkCQXkAwBnWQcQEZJ/AOu2xc/pExHgEroD1elYvUgAdtNmZQAEEbGBrvhkw57ehb5DDX1WRA66ASvHo8UDAkDAdEgwpQJKgMfu8wtm4uoYtAToJV6oJvQgjEGMXGCOTjxNgigBIBj9ozTVg2kYRapLX0oNNAbFE0iWhA569Cb8z2FEAc4LEADYBP0Qp3CMLrQpIAfoIoi0CGNG5uXu/APYZUsAkxzxtTPKZuHoBKXItwhRQnYpJwogCECTABGwoAC2JMcY6CAvRLslEO6WoHiHzydP6FVRNogI24R4Br2ExFZZMWEVBPZtS/SclMnJWHMfROwgSQDL2gZL6dsrukhn12Jh1QlKJ9apfvVBTAN4B6inOHAA8dUD/Lxg6qRx0SmnklIsp+5Skos0y7TgxiSlRCfXTDTKiqL6ZVsTTkS4pR9SLV/3W48UD8qaA5hPcFOCpA08UoMgxBkBQjpBItQplRYgx15tr3fqxMaeI5/QDtPkIXUi0/guoHHisEFFAMmb/z7DlHwngMRZGf+NjAAAAAElFTkSuQmCC")},365(t,e,n){"use strict";n.d(e,{A:()=>s});var a=n(601),r=n.n(a),i=n(314),o=n.n(i)()(r());o.push([t.id,"* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  background: #1a1a2e;\n  color: #eaeaea;\n  font-size: 13px;\n  line-height: 1.4;\n}\n\n.container {\n  padding: 10px;\n  max-width: 400px;\n  margin: 0 auto;\n}\n\nheader {\n  text-align: center;\n  margin-bottom: 12px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #333;\n}\n\nheader h1 {\n  font-size: 16px;\n  font-weight: 600;\n  color: #ffd700;\n  margin-bottom: 4px;\n}\n\n.status {\n  font-size: 11px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  display: inline-block;\n}\n\n.status.connected {\n  background: #1d4a1d;\n  color: #4ade80;\n}\n\n.status.disconnected {\n  background: #4a1d1d;\n  color: #f87171;\n}\n\n.status.warning {\n  background: #4a3d1d;\n  color: #fbbf24;\n}\n\n.controls {\n  display: flex;\n  gap: 8px;\n  margin-bottom: 10px;\n}\n\n.btn {\n  padding: 8px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.2s;\n}\n\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.btn-primary {\n  background: #3b82f6;\n  color: white;\n  flex: 1;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background: #2563eb;\n}\n\n.btn-secondary {\n  background: #4b5563;\n  color: white;\n}\n\n.btn-secondary:hover:not(:disabled) {\n  background: #374151;\n}\n\n.btn-accent {\n  background: #8b5cf6;\n  color: white;\n  width: 100%;\n}\n\n.btn-accent:hover:not(:disabled) {\n  background: #7c3aed;\n}\n\n.btn-small {\n  padding: 6px 10px;\n  font-size: 11px;\n  background: #374151;\n  color: #d1d5db;\n}\n\n.btn-small:hover:not(:disabled) {\n  background: #4b5563;\n}\n\n.btn-danger {\n  background: #dc2626;\n  color: white;\n  padding: 2px 6px;\n  font-size: 10px;\n}\n\n.btn-danger:hover {\n  background: #b91c1c;\n}\n\n.auto-scan {\n  margin-bottom: 12px;\n  padding: 8px;\n  background: #252538;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.auto-scan label {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.auto-scan select {\n  background: #1a1a2e;\n  color: #eaeaea;\n  border: 1px solid #444;\n  border-radius: 3px;\n  padding: 2px 4px;\n  font-size: 11px;\n}\n\n.panel {\n  background: #252538;\n  border-radius: 6px;\n  padding: 10px;\n  margin-bottom: 10px;\n}\n\n.panel h2 {\n  font-size: 13px;\n  font-weight: 600;\n  color: #a78bfa;\n  margin-bottom: 8px;\n  padding-bottom: 4px;\n  border-bottom: 1px solid #333;\n}\n\n.item-list {\n  max-height: 150px;\n  overflow-y: auto;\n}\n\n.empty-message {\n  color: #6b7280;\n  font-style: italic;\n  font-size: 11px;\n  text-align: center;\n  padding: 8px;\n}\n\n.item-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 4px 0;\n  border-bottom: 1px solid #333;\n}\n\n.item-row:last-child {\n  border-bottom: none;\n}\n\n.item-name {\n  font-weight: 500;\n  color: #f3f4f6;\n}\n\n.item-count {\n  color: #60a5fa;\n  font-weight: 600;\n}\n\n.session-item {\n  padding: 6px 0;\n  border-bottom: 1px solid #333;\n}\n\n.session-item:last-child {\n  border-bottom: none;\n}\n\n.session-item .item-name {\n  margin-bottom: 2px;\n}\n\n.session-stats {\n  display: flex;\n  gap: 12px;\n  font-size: 11px;\n}\n\n.stat-gathered {\n  color: #4ade80;\n}\n\n.stat-used {\n  color: #f87171;\n}\n\n.registration-controls {\n  margin-bottom: 8px;\n}\n\n.help-text {\n  font-size: 11px;\n  color: #9ca3af;\n  margin-top: 6px;\n  padding: 6px;\n  background: #1a1a2e;\n  border-radius: 4px;\n  border-left: 3px solid #8b5cf6;\n}\n\n.help-text.hidden {\n  display: none;\n}\n\n.registered-list {\n  max-height: 100px;\n  overflow-y: auto;\n}\n\n.registered-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 4px 0;\n  border-bottom: 1px solid #333;\n  font-size: 12px;\n}\n\n.registered-item:last-child {\n  border-bottom: none;\n}\n\n.registry-controls {\n  display: flex;\n  gap: 6px;\n}\n\n/* Modal */\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal.hidden {\n  display: none;\n}\n\n.modal-content {\n  background: #252538;\n  padding: 16px;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 280px;\n}\n\n.modal-content h3 {\n  font-size: 14px;\n  margin-bottom: 12px;\n  color: #a78bfa;\n}\n\n.modal-content input {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #444;\n  border-radius: 4px;\n  background: #1a1a2e;\n  color: #eaeaea;\n  font-size: 13px;\n  margin-bottom: 12px;\n}\n\n.modal-content input:focus {\n  outline: none;\n  border-color: #8b5cf6;\n}\n\n.modal-buttons {\n  display: flex;\n  gap: 8px;\n}\n\n.modal-buttons .btn {\n  flex: 1;\n}\n\n/* Scrollbar styling */\n::-webkit-scrollbar {\n  width: 6px;\n}\n\n::-webkit-scrollbar-track {\n  background: #1a1a2e;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #4b5563;\n  border-radius: 3px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #6b7280;\n}\n",""]);const s=o},314(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,a,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(a)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(o[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);a&&o[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},601(t){"use strict";t.exports=function(t){return t[1]}},72(t){"use strict";var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var i={},o=[],s=0;s<t.length;s++){var d=t[s],c=a.base?d[0]+a.base:d[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var h=n(u),f={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)e[h].references++,e[h].updater(f);else{var g=r(f,a);a.byIndex=s,e.splice(s,0,{identifier:u,updater:g,references:1})}o.push(u)}return o}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=a(t=t||[],r=r||{});return function(t){t=t||[];for(var o=0;o<i.length;o++){var s=n(i[o]);e[s].references--}for(var d=a(t,r),c=0;c<i.length;c++){var l=n(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=d}}},659(t){"use strict";var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540(t){"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56(t,e,n){"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825(t){"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113(t){"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},44(t){"use strict";t.exports=require("canvas")},288(t){"use strict";t.exports=require("sharp")},780(){},303(t,e,n){var a;globalThis,a=(t,e,n)=>(()=>{"use strict";var a={"./src/base/alt1api.ts"(t,e){Object.defineProperty(e,"__esModule",{value:!0})},"./src/base/declarations.ts"(t,e){Object.defineProperty(e,"__esModule",{value:!0})},"./src/base/imagedata-extensions.ts"(t,e,n){var a=this&&this.__createBinding||(Object.create?function(t,e,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,a,r)}:function(t,e,n,a){void 0===a&&(a=n),t[a]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageData=void 0;const o=i(n("./src/base/index.ts")),s=i(n("./src/base/nodepolyfill.ts"));!function(){var t="undefined"!=typeof self?self:void 0!==n.g?n.g:null,a=void 0===t.ImageData,r=a;if(!a){t.ImageData;try{let e=new Uint8ClampedArray(4);e[0]=1;let n=new t.ImageData(e,1,1);r=1!=n.data[0]}catch(t){r=!0}}if(r){var i=function(){var t=0,e=arguments[t]instanceof Uint8ClampedArray?arguments[t++]:null,n=arguments[t++],i=arguments[t++];if(a)e||(e=new Uint8ClampedArray(n*i*4)),this.width=n,this.height=i,this.data=e;else if(r){var o=document.createElement("canvas");o.width=n,o.height=i;var s=o.getContext("2d").createImageData(n,i);return e&&s.data.set(e),s}};a||(i.prototype=t.ImageData.prototype),t.ImageData=i,e.ImageData=i}else e.ImageData=t.ImageData}(),e.ImageData.prototype.toDrawableData=function(){return"undefined"==typeof document?s.imageDataToDrawable(this):this},e.ImageData.prototype.putImageData=function(t,e,n){for(var a=0;a<t.width;a++)for(var r=0;r<t.height;r++){var i=4*(a+e)+4*(r+n)*this.width,o=4*a+4*r*t.width;this.data[i]=t.data[o],this.data[i+1]=t.data[o+1],this.data[i+2]=t.data[o+2],this.data[i+3]=t.data[o+3]}},e.ImageData.prototype.pixelOffset=function(t,e){return 4*t+e*this.width*4},e.ImageData.prototype.getPixelHash=function(t){t||(t=new o.Rect(0,0,this.width,this.height));for(var e=0,n=t.x;n<t.x+t.width;n++)for(var a=t.y;a<t.y+t.height;a++){var r=4*n+4*a*this.width;e=((e=((e=((e=(e<<5)-e+this.data[r]|0)<<5)-e+this.data[r+1]|0)<<5)-e+this.data[r+2]|0)<<5)-e+this.data[r+3]|0}return e},e.ImageData.prototype.clone=function(t){let n=new e.ImageData(t.width,t.height);return this.copyTo(n,t.x,t.y,t.width,t.height,0,0),n},e.ImageData.prototype.show=function(t=5,n=5,a=1){if("undefined"!=typeof document){for(var r=document.getElementsByClassName("debugimage");r.length>e.ImageData.prototype.show.maxImages;)r[0].remove();var i=this.toImage();return i.classList.add("debugimage"),i.style.position="absolute",i.style.zIndex="1000",i.style.left=t/a+"px",i.style.top=n/a+"px",i.style.background="purple",i.style.cursor="pointer",i.style.imageRendering="pixelated",i.style.outline="1px solid #0f0",i.style.width=(1==this.width?100:this.width)*a+"px",i.style.height=(1==this.height?100:this.height)*a+"px",i.onclick=function(){i.remove()},document.body.appendChild(i),i}console.error("need a document to show an imagedata object")},e.ImageData.prototype.show.maxImages=10,e.ImageData.prototype.toImage=function(t){if(t||(t=new o.Rect(0,0,this.width,this.height)),"undefined"!=typeof document){var e=document.createElement("canvas");e.width=t.width,e.height=t.height}else e=s.createCanvas(t.width,t.height);return e.getContext("2d").putImageData(this.toDrawableData(),-t.x,-t.y),e},e.ImageData.prototype.getPixel=function(t,e){var n=4*t+4*e*this.width;return[this.data[n],this.data[n+1],this.data[n+2],this.data[n+3]]},e.ImageData.prototype.getPixelValueSum=function(t,e){var n=4*t+4*e*this.width;return this.data[n]+this.data[n+1]+this.data[n+2]},e.ImageData.prototype.getPixelInt=function(t,e){var n=4*t+4*e*this.width;return(this.data[n+3]<<24)+(this.data[n+0]<<16)+(this.data[n+1]<<8)+(0|this.data[n+2])},e.ImageData.prototype.getColorDifference=function(t,e,n,a,r,i=255){var o=4*t+4*e*this.width;return Math.abs(this.data[o]-n)+Math.abs(this.data[o+1]-a)+Math.abs(this.data[o+2]-r)*i/255},e.ImageData.prototype.setPixel=function(t,e,...n){var a,r,i,o,[a,r,i,o]=Array.isArray(n[0])?n[0]:n,s=4*t+4*e*this.width;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=null==o?255:o},e.ImageData.prototype.setPixelInt=function(t,e,n){var a=4*t+4*e*this.width;this.data[a]=n>>24&255,this.data[a+1]=n>>16&255,this.data[a+2]=n>>8&255,this.data[a+3]=255&n},e.ImageData.prototype.toFileBytes=function(t,e){return"undefined"!=typeof HTMLCanvasElement?new Promise(n=>this.toImage().toBlob(t=>{var e=new FileReader;e.readAsArrayBuffer(t),e.onload=()=>n(new Uint8Array(e.result))},t,e)):s.imageDataToFileBytes(this,t,e)},e.ImageData.prototype.toPngBase64=function(){if("undefined"!=typeof HTMLCanvasElement){var t=this.toImage().toDataURL("image/png");return t.slice(t.indexOf(",")+1)}throw new Error("synchronous image conversion not supported in nodejs, try using ImageData.prototype.toFileBytes")},e.ImageData.prototype.pixelCompare=function(t,e=0,n=0,a){return o.ImageDetect.simpleCompare(this,t,e,n,a)},e.ImageData.prototype.copyTo=function(t,e,n,a,r,i,o){const s=0|t.width,d=0|this.width,c=0|a,l=4*Math.floor(a/4),u=new Int32Array(this.data.buffer,this.data.byteOffset,this.data.byteLength/4),h=new Int32Array(t.data.buffer,t.data.byteOffset,t.data.byteLength/4);for(let t=0;t<r;t++){let a=0,r=a+i+(t+o)*s,f=a+e+(t+n)*d;for(;a<l;a+=4)h[r]=u[f],h[r+1]=u[f+1],h[r+2]=u[f+2],h[r+3]=u[f+3],r+=4,f+=4;for(;a<c;a++)h[r]=u[f],r+=1,f+=1}}},"./src/base/imagedetect.ts"(t,e,n){var a=this&&this.__createBinding||(Object.create?function(t,e,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,a,r)}:function(t,e,n,a){void 0===a&&(a=n),t[a]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageDataSet=e.webpackImages=e.asyncMap=e.coldif=e.simpleCompareRMSE=e.simpleCompare=e.findSubbuffer=e.findSubimage=e.clearPngColorspace=e.isPngBuffer=e.imageDataFromFileBuffer=e.imageDataFromBase64=e.imageDataFromUrl=void 0;const o=n("./src/base/imgref.ts"),s=i(n("./src/base/wrapper.ts")),d=i(n("./src/base/nodepolyfill.ts")),c=n("./src/base/index.ts");async function l(t){var e=t.startsWith("data:image/png;base64,");if("undefined"!=typeof Image){if(e)return u(t);{let e=await fetch(t);if(!e.ok)throw new Error("failed to load image: "+t);return f(new Uint8Array(await e.arrayBuffer()))}}if(e)return h(t.slice(22));throw new Error("loading remote images in nodejs has been disabled, load the raw bytes and use imageDataFromNodeBuffer instead")}function u(t){if("undefined"==typeof Image)throw new Error("Browser environment expected");return new Promise((e,n)=>{var a=new Image;a.crossOrigin="crossorigin",a.onload=function(){e(new o.ImgRefCtx(a).toData())},a.onerror=n,a.src=t})}async function h(t){return"undefined"!=typeof Image?l("data:image/png;base64,"+t):d.imageDataFromBase64(t)}async function f(t){if(g(t)&&m(t),"undefined"!=typeof Image){let e=new Blob([t],{type:"image/png"}),n=URL.createObjectURL(e),a=await u(n);return URL.revokeObjectURL(n),a}return d.imageDataFromBuffer(t)}function g(t){return 137==t[0]&&80==t[1]&&78==t[2]&&71==t[3]}function m(t){if(!g(t))throw new Error("non-png image received");for(var e=8;e<t.length;){var n=16777216*t[e++]+65536*t[e++]+256*t[e++]+t[e++],a=!!(t[e]>>5&1),r=String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3]);if("trns"!=r.toLowerCase()&&a){t[e+0]="n".charCodeAt(0),t[e+1]="o".charCodeAt(0),t[e+2]="P".charCodeAt(0),t[e+3]="E".charCodeAt(0);for(var i=e+4+n,o=4294967295,s=function(t){for(var e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;return t},d=e;d<i;d++)d>=e+4&&(t[d]=0),o=s(255&(o^t[d]))^o>>>8;o^=4294967295,t[e+4+n+0]=o>>24&255,t[e+4+n+1]=o>>16&255,t[e+4+n+2]=o>>8&255,t[e+4+n+3]=255&o}if("IEND"==r)break;e+=4,e+=n,e+=4}}function p(t,e,n=0,a=0,r=t.width,i=t.height){for(var o=[],s=4*e.width,d=4*t.width,c=[],l=0;l<e.height;l++){for(var u=0;u<e.width;u++){var h=4*u+l*s;if(255==e.data[h+3]&&c.push({x:u,y:l}),10==c.length)break}if(10==c.length)break}var f=n+r-e.width,g=a+i-e.height,m=c.length;for(l=a;l<=g;l++)t:for(u=n;u<=f;u++){for(var p=0;p<m;p++){var w=4*(u+c[p].x)+(l+c[p].y)*d,y=4*c[p].x+c[p].y*s,v=0;if(v=(v=(v=v+Math.abs(t.data[w+0]-e.data[y+0])|0)+Math.abs(t.data[w+1]-e.data[y+1])|0)+Math.abs(t.data[w+2]-e.data[y+2])|0,(v*=255/e.data[y+3])>30)continue t}if(b(t,e,u,l,30)!=1/0&&(o.push({x:u,y:l}),o.length>50))return o}return o}function b(t,e,n,a,r=30){if(n<0||a<0)throw new RangeError;if(n+e.width>t.width||a+e.height>t.height)throw new RangeError;-1==r&&(r=1020);for(var i=0,o=8;o>=1;o/=2)for(var s=0;s<e.width;s+=o)for(var d=0;d<e.height;d+=o){var c=4*(n+s)+(a+d)*t.width*4,l=4*s+d*e.width*4,u=0;if(u=(u=(u=u+Math.abs(t.data[c+0]-e.data[l+0])|0)+Math.abs(t.data[c+1]-e.data[l+1])|0)+Math.abs(t.data[c+2]-e.data[l+2])|0,u*=e.data[l+3]/255,1==o&&(i+=u),u>r)return 1/0}return i/e.width/e.height}function w(t){var e={},n=[];for(var a in t)t.hasOwnProperty(a)&&(e[a]=null,n.push(t[a].then(function(t,n){e[t]=n,r[t]=n}.bind(null,a))));var r={},i=Promise.all(n).then(()=>(r.loaded=!0,r));return Object.defineProperty(r,"loaded",{enumerable:!1,value:!1,writable:!0}),Object.defineProperty(r,"promise",{enumerable:!1,value:i}),Object.defineProperty(r,"raw",{enumerable:!1,value:e}),Object.assign(r,e)}e.imageDataFromUrl=l,e.imageDataFromBase64=h,e.imageDataFromFileBuffer=f,e.isPngBuffer=g,e.clearPngColorspace=m,e.findSubimage=function(t,e,n=0,a=0,r=t.width,i=t.height){if(!t)throw new TypeError;if(!e)throw new TypeError;if(t instanceof o.ImgRefBind&&s.hasAlt1&&alt1.bindFindSubImg){var d=s.encodeImageString(e),c=alt1.bindFindSubImg(t.handle,d,e.width,n,a,r,i);if(!c)throw new s.Alt1Error;return JSON.parse(c)}return p(t.read(),e,n,a,r,i)},e.findSubbuffer=p,e.simpleCompare=b,e.simpleCompareRMSE=function(t,e,n,a){if(n<0||a<0)throw new RangeError;if(n+e.width>t.width||a+e.height>t.height)throw new RangeError;for(var r=0,i=0,o=0;o<e.width;o++)for(var s=0;s<e.height;s++){var d=4*(n+o)+(a+s)*t.width*4,c=4*o+s*e.width*4,l=0;l=(l=(l=l+Math.abs(t.data[d+0]-e.data[c+0])|0)+Math.abs(t.data[d+1]-e.data[c+1])|0)+Math.abs(t.data[d+2]-e.data[c+2])|0;var u=e.data[c+3]/255;i+=u,r+=l*l*u}return Math.sqrt(r/i)},e.coldif=function(t,e,n,a,r,i,o){return(Math.abs(t-a)+Math.abs(e-r)+Math.abs(n-i))*o/255},e.asyncMap=w,e.webpackImages=function(t){return w(t)};class y{constructor(){this.buffers=[]}matchBest(t,e,n,a){let r=null,i=a;for(let a=0;a<this.buffers.length;a++){let o=t.pixelCompare(this.buffers[a],e,n,i);isFinite(o)&&(null==i||o<i)&&(i=o,r=a)}return null==r?null:{index:r,score:i}}static fromFilmStrip(t,e){if(t.width%e!=0)throw new Error("slice size does not fit in base img");let n=new y;for(let a=0;a<t.width;a+=e)n.buffers.push(t.clone(new c.Rect(a,0,e,t.height)));return n}static fromFilmStripUneven(t,e){let n=new y,a=0;for(let r of e)if(n.buffers.push(t.clone(new c.Rect(a,0,r,t.height))),a+=r,a>t.width)throw new Error("sampling filmstrip outside bounds");if(a!=t.width)throw new Error("unconsumed pixels left in film strip imagedata");return n}static fromAtlas(t,e){let n=new y;for(let a of e)n.buffers.push(t.clone(a));return n}}e.ImageDataSet=y},"./src/base/imgref.ts"(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ImgRefData=e.ImgRefBind=e.ImgRefCtx=e.ImgRef=void 0;const a=n("./src/base/index.ts");class r{constructor(t,e,n,a){this.t="none",this.x=t,this.y=e,this.width=n,this.height=a}read(t=0,e=0,n=this.width,a=this.height){throw new Error("This imgref ("+this.t+") does not support toData")}findSubimage(t,e=0,n=0,r=this.width,i=this.height){return a.ImageDetect.findSubimage(this,t,e,n,r,i)}toData(t=this.x,e=this.y,n=this.width,a=this.height){return this.read(t-this.x,e-this.y,n,a)}containsArea(t){return this.x<=t.x&&this.y<=t.y&&this.x+this.width>=t.x+t.width&&this.y+this.height>=t.y+t.height}}e.ImgRef=r,e.ImgRefCtx=class extends r{constructor(t,e=0,n=0){if(t instanceof CanvasRenderingContext2D)super(e,n,t.canvas.width,t.canvas.height),this.ctx=t;else if(super(e,n,t.width,t.height),t instanceof HTMLCanvasElement)this.ctx=t.getContext("2d",{willReadFrequently:!0});else{var a=document.createElement("canvas");a.width=t.width,a.height=t.height,this.ctx=a.getContext("2d",{willReadFrequently:!0}),this.ctx.drawImage(t,0,0)}this.t="ctx"}read(t=0,e=0,n=this.width,a=this.height){return this.ctx.getImageData(t,e,n,a)}},e.ImgRefBind=class extends r{constructor(t,e=0,n=0,a=0,r=0){super(e,n,a,r),this.handle=t,this.t="bind"}read(t=0,e=0,n=this.width,r=this.height){return(0,a.transferImageData)(this.handle,t,e,n,r)}},e.ImgRefData=class extends r{constructor(t,e=0,n=0){super(e,n,t.width,t.height),this.buf=t,this.t="data"}read(t=0,e=0,n=this.width,a=this.height){if(0==t&&0==e&&n==this.width&&a==this.height)return this.buf;for(var r=new ImageData(n,a),i=e;i<e+a;i++)for(var o=t;o<t+n;o++){var s=4*(o-t)+(i-e)*n*4,d=4*o+4*i*this.buf.width;r.data[s]=this.buf.data[d],r.data[s+1]=this.buf.data[d+1],r.data[s+2]=this.buf.data[d+2],r.data[s+3]=this.buf.data[d+3]}return r}}},"./src/base/index.ts"(t,e,n){var a=this&&this.__createBinding||(Object.create?function(t,e,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,a,r)}:function(t,e,n,a){void 0===a&&(a=n),t[a]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return r(e,t),e},o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||a(e,t,n)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.imageDataFromUrl=e.ImageDataSet=e.findSubbuffer=e.simpleCompare=e.findSubimage=e.webpackImages=e.NodePolyfill=e.ImageData=e.Rect=e.PasteInput=e.ImageDetect=void 0,n("./src/base/declarations.ts"),e.ImageDetect=i(n("./src/base/imagedetect.ts")),e.PasteInput=i(n("./src/base/pasteinput.ts"));var d=n("./src/base/rect.ts");Object.defineProperty(e,"Rect",{enumerable:!0,get:function(){return s(d).default}});var c=n("./src/base/imagedata-extensions.ts");Object.defineProperty(e,"ImageData",{enumerable:!0,get:function(){return c.ImageData}}),e.NodePolyfill=i(n("./src/base/nodepolyfill.ts")),o(n("./src/base/imgref.ts"),e),o(n("./src/base/wrapper.ts"),e);var l=n("./src/base/imagedetect.ts");Object.defineProperty(e,"webpackImages",{enumerable:!0,get:function(){return l.webpackImages}}),Object.defineProperty(e,"findSubimage",{enumerable:!0,get:function(){return l.findSubimage}}),Object.defineProperty(e,"simpleCompare",{enumerable:!0,get:function(){return l.simpleCompare}}),Object.defineProperty(e,"findSubbuffer",{enumerable:!0,get:function(){return l.findSubbuffer}}),Object.defineProperty(e,"ImageDataSet",{enumerable:!0,get:function(){return l.ImageDataSet}}),Object.defineProperty(e,"imageDataFromUrl",{enumerable:!0,get:function(){return l.imageDataFromUrl}})},"./src/base/nodepolyfill.ts"(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.imageDataFromBuffer=e.imageDataFromBase64=e.imageDataToFileBytes=e.createCanvas=e.imageDataToDrawable=e.requireElectronCommon=e.requireNodeCanvas=e.requireSharp=e.polyfillRequire=void 0;const a=n("./src/base/index.ts"),r=n("./src/base/imagedetect.ts");var i=null;function o(){try{return i?i("sharp"):n("sharp")}catch(t){}return null}function s(){o();try{return i?i("canvas"):n("canvas")}catch(t){}return null}function d(){try{return i?i("electron/common"):n("electron/common")}catch(t){}return null}function c(t){for(let e=0;e<t.length;e+=4){let n=t[e+2];t[e+2]=t[e+0],t[e+0]=n}}async function l(t){var e,n;if((0,r.clearPngColorspace)(t),e=d()){let n=e.nativeImage.createFromBuffer(t),r=n.toBitmap(),i=n.getSize(),o=new Uint8ClampedArray(r.buffer,r.byteOffset,r.byteLength);return c(o),new a.ImageData(o,i.width,i.height)}if(n=s())return new Promise((e,r)=>{let i=new n.Image;i.onerror=r,i.onload=()=>{var t=n.createCanvas(i.naturalWidth,i.naturalHeight).getContext("2d");t.drawImage(i,0,0);var r=t.getImageData(0,0,i.naturalWidth,i.naturalHeight);e(new a.ImageData(r.data,r.width,r.height))},i.src=Buffer.from(t.buffer,t.byteOffset,t.byteLength)});throw new Error("couldn't find built-in canvas, module 'electron/common' or the module 'canvas'")}e.polyfillRequire=function(t){i=t},e.requireSharp=o,e.requireNodeCanvas=s,e.requireElectronCommon=d,e.imageDataToDrawable=function(t){let e=s();if(!e)throw new Error("couldn't find built-in canvas or the module 'canvas'");return new e.ImageData(t.data,t.width,t.height)},e.createCanvas=function(t,e){let n=s();if(!n)throw new Error("couldn't find built-in canvas or the module 'canvas'");return n.createCanvas(t,e)},e.imageDataToFileBytes=async function(t,e,n){var a,r;if(a=d()){let e=a.nativeImage,n=Buffer.from(t.data.slice(t.data.byteOffset,t.data.byteLength));return c(n),e.createFromBitmap(n,{width:t.width,height:t.height}).toPNG()}if(r=o()){let a=r(Buffer.from(t.data.buffer),{raw:{width:t.width,height:t.height,channels:4}});if("image/png"==e)a.png();else{if("image/webp"!=e)throw new Error("unknown image format: "+e);var i={quality:80};"number"==typeof n&&(i.quality=100*n),a.webp(i)}return await a.toBuffer({resolveWithObject:!1}).buffer}throw new Error("coulnd't find build-in image compression methods or the module 'electron/common' or 'sharp'")},e.imageDataFromBase64=function(t){return l(Buffer.from(t,"base64"))},e.imageDataFromBuffer=l},"./src/base/pasteinput.ts"(t,e,n){var a=this&&this.__createBinding||(Object.create?function(t,e,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,a,r)}:function(t,e,n,a){void 0===a&&(a=n),t[a]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.fileDialog=e.start=e.startDragNDrop=e.triggerPaste=e.unlisten=e.listen=e.lastref=void 0;const o=n("./src/base/index.ts"),s=i(n("./src/base/imagedetect.ts"));var d=[],c=!1,l=!1;function u(t){for(var n in e.lastref=t,d)d[n].cb(e.lastref)}function h(t){l=!1,u(new o.ImgRefCtx(t))}function f(t,e){var n,a;for(var r in l=!1,d)null===(a=(n=d[r]).error)||void 0===a||a.call(n,e,t)}function g(){window.addEventListener("dragover",function(t){t.preventDefault()}),window.addEventListener("drop",function(t){if(t.dataTransfer){var e=function(t){for(var e="",n=0;n<t.length;n++){var a=t[n],r=a.type.match(/^image\/(\w+)$/);if(r){if("png"==r[1])return a;e=r[1]}}return e&&f("notpng","The image you uploaded is not a .png image. Other image type have compression noise and can't be used for image detection."),null}(t.dataTransfer.items);t.preventDefault(),e&&p(e.getAsFile())}})}function m(){if(!c){c=!0;var t=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),e=function(t){if(t.clipboardData)for(var e=0;e<t.clipboardData.items.length;e++)if(-1!=t.clipboardData.items[e].type.indexOf("image")){var n=t.clipboardData.items[e].getAsFile();if(n){var a=new Image;a.src=(window.URL||window.webkitURL).createObjectURL(n),a.width>0?h(a):a.onload=function(){h(a)}}}};if(t)document.addEventListener("paste",e);else{var n=document.createElement("div");n.setAttribute("contenteditable",""),n.className="forcehidden",n.onpaste=function(t){t.clipboardData&&t.clipboardData.items?e(t):setTimeout(function(){var t=n.children[0];if(t&&"IMG"==t.tagName){var e=new Image;e.src=t.src,e.src.match(/^data:([\w\/]+);/),e.width>0?h(e):e.onload=function(){h(e)},n.innerHTML=""}},1)},document.body.appendChild(n)}document.addEventListener("keydown",function(t){"INPUT"!=t.target.tagName&&t.keyCode=="V".charCodeAt(0)&&t.ctrlKey&&(l=!0,setTimeout(function(){l&&f("noimg","You pressed Ctrl+V, but no image was pasted by your browser, make sure your clipboard contains an image, and not a link to an image.")},1e3),n&&n.focus())})}}function p(t){if(t){var e=new FileReader;e.onload=function(){var t=new Uint8Array(e.result);s.isPngBuffer(t)&&s.clearPngColorspace(t);var n=new Blob([t],{type:"image/png"}),a=new Image,r=URL.createObjectURL(n);a.onerror=()=>{URL.revokeObjectURL(r),f("invalidfile","The file you uploaded could not be opened as an image.")},a.src=r,a.width>0?(h(a),URL.revokeObjectURL(r)):a.onload=function(){h(a),URL.revokeObjectURL(r)}},e.readAsArrayBuffer(t)}}e.lastref=null,e.listen=function(t,e,n){d.push({cb:t,error:e}),c||m(),n&&g()},e.unlisten=function(t){let e=d.findIndex(e=>e.cb==t);-1!=e&&d.splice(e,1)},e.triggerPaste=u,e.startDragNDrop=g,e.start=m,e.fileDialog=function(){var t=document.createElement("input");return t.type="file",t.accept="image/png",t.onchange=function(){t.files&&t.files[0]&&p(t.files[0])},t.click(),t}},"./src/base/rect.ts"(t,e){Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t,e,n,a){this.x=t,this.y=e,this.width=n,this.height=a}static fromArgs(...t){if("object"==typeof t[0])return new n(t[0].x,t[0].y,t[0].width,t[0].height);if("number"==typeof t[0]&&t.length>=4)return new n(t[0],t[1],t[2],t[3]);throw new Error("invalid rect args")}union(t){var e=Math.min(this.x,t.x),n=Math.min(this.y,t.y);return this.width=Math.max(this.x+this.width,t.x+t.width)-e,this.height=Math.max(this.y+this.height,t.y+t.height)-n,this.x=e,this.y=n,this}includePoint(t,e){this.union(new n(t,e,0,0))}inflate(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e}intersect(t){this.x<t.x&&(this.width-=t.x-this.x,this.x=t.x),this.y<t.y&&(this.height-=t.y-this.y,this.y=t.y),this.width=Math.min(this.x+this.width,t.x+t.width)-this.x,this.height=Math.min(this.y+this.height,t.y+t.height)-this.y,(this.width<=0||this.height<=0)&&(this.width=0,this.height=0)}overlaps(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}contains(t){return this.x<=t.x&&this.x+this.width>=t.x+t.width&&this.y<=t.y&&this.y+this.height>=t.y+t.height}containsPoint(t,e){return this.x<=t&&this.x+this.width>t&&this.y<=e&&this.y+this.height>e}}e.default=n},"./src/base/wrapper.ts"(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.captureStream=e.captureMultiAsync=e.captureAsync=e.ImageStreamReader=e.once=e.removeListener=e.on=e.addResizeElement=e.getMousePosition=e.hasAlt1Version=e.resetEnvironment=e.identifyApp=e.unmixColor=e.mixColor=e.encodeImageString=e.decodeImageString=e.transferImageData=e.captureHoldFullRs=e.captureHoldScreen=e.captureHold=e.capture=e.getdisplaybounds=e.requireAlt1=e.openbrowser=e.skinName=e.hasAlt1=e.newestversion=e.Alt1Error=e.NoAlt1Error=void 0;const r=a(n("./src/base/rect.ts")),i=n("./src/base/imgref.ts"),o=n("./src/base/imagedata-extensions.ts");n("./src/base/alt1api.ts");class s extends Error{constructor(){super(),this.message="This method can not be ran outside of Alt1"}}e.NoAlt1Error=s;class d extends Error{}e.Alt1Error=d,e.newestversion="1.5.5",e.hasAlt1="undefined"!=typeof alt1,e.skinName=e.hasAlt1?alt1.skinName:"default";function c(){if(!e.hasAlt1)throw new s}function l(...t){if(!e.hasAlt1)throw new s;var n=r.default.fromArgs(...t);if(alt1.capture)return new o.ImageData(alt1.capture(n.x,n.y,n.width,n.height),n.width,n.height);var a=new o.ImageData(n.width,n.height);if(n.width*n.height*4<=4e6){if(!(c=alt1.getRegion(n.x,n.y,n.width,n.height)))return null;h(c,a,0,0,n.width,n.height)}else{var i=n.x,d=alt1.bindRegion(n.x,n.y,n.width,n.height);if(d<=0)return null;for(;i<n.x+n.width;){var c,l=Math.min(n.x+n.width,Math.floor(i+1e6/n.height));if(!(c=alt1.bindGetRegion(d,i,n.y,l-i,n.height)))return null;h(c,a,i-n.x,0,l-i,n.height),i=l}}return a}function u(t,e,n,a){t=Math.round(t),e=Math.round(e),n=Math.round(n),a=Math.round(a),c();var r=alt1.bindRegion(t,e,n,a);if(r<=0)throw new d("capturehold failed");return new i.ImgRefBind(r,t,e,n,a)}function h(t,e,n,a,r,i){var o=atob(t),s=e.data;r|=0,i|=0;for(var d=4*n+4*a*e.width,c=0|e.width,l=0;l<r;l++)for(var u=0;u<i;u++){var h=d+(4*l|0)+(u*c*4|0)|0,f=(4*l|0)+(4*u*r|0)|0;s[h+0|0]=o.charCodeAt(f+2|0),s[h+1|0]=o.charCodeAt(f+1|0),s[h+2|0]=o.charCodeAt(f+0|0),s[h+3|0]=o.charCodeAt(f+3|0)}return e}e.openbrowser=function(t){e.hasAlt1?alt1.openBrowser(t):window.open(t,"_blank")},e.requireAlt1=c,e.getdisplaybounds=function(){return!!e.hasAlt1&&new r.default(alt1.screenX,alt1.screenY,alt1.screenWidth,alt1.screenHeight)},e.capture=l,e.captureHold=u,e.captureHoldScreen=function(t,e,n,a){t=Math.round(t),e=Math.round(e),n=Math.round(n),a=Math.round(a),c();var r=alt1.bindScreenRegion(t,e,n,a);return!(r<=0)&&new i.ImgRefBind(r,t,e,n,a)},e.captureHoldFullRs=function(){return u(0,0,alt1.rsWidth,alt1.rsHeight)},e.transferImageData=function(t,e,n,a,r){if(e=Math.round(e),n=Math.round(n),a=Math.round(a),r=Math.round(r),c(),alt1.bindGetRegionBuffer)return new o.ImageData(alt1.bindGetRegionBuffer(t,e,n,a,r),a,r);for(var i=new o.ImageData(a,r),s=e;;){var l=Math.min(e+a,Math.floor(s+1e6/r)),u=alt1.bindGetRegion(t,s,n,l-s,r);if(!u)throw new d;if(h(u,i,s-e,0,l-s,r),(s=l)==e+a)break}return i},e.decodeImageString=h,e.encodeImageString=function(t,e=0,n=0,a=t.width,r=t.height){for(var i="",o=n;o<n+r;o++)for(var s=e;s<e+a;s++){var d=4*s+4*t.width*o|0;i+=String.fromCharCode(t.data[d+2|0]),i+=String.fromCharCode(t.data[d+1|0]),i+=String.fromCharCode(t.data[d+0|0]),i+=String.fromCharCode(t.data[d+3|0])}return btoa(i)},e.mixColor=function(t,e,n,a=255){return(0|n)+(e<<8)+(t<<16)+(a<<24)},e.unmixColor=function(t){return[t>>16&255,t>>8&255,255&t]},e.identifyApp=function(t){e.hasAlt1&&alt1.identifyAppUrl(t)},e.resetEnvironment=function(){e.hasAlt1="undefined"!=typeof alt1,e.skinName=e.hasAlt1?alt1.skinName:"default"};var f=-1;function g(t){return!!e.hasAlt1&&(-1==f&&(f=alt1.versionint),f>=function(t){var e=t.match(/^(\d+)\.(\d+)\.(\d+)$/);if(!e)throw new RangeError("Invalid version string");return 1e3*+e[1]*1e3+1e3*+e[2]+1*+e[3]}(t))}function m(t,n){e.hasAlt1&&(alt1.events||(alt1.events={}),alt1.events[t]||(alt1.events[t]=[]),alt1.events[t].push(n))}function p(t,n){var a=e.hasAlt1&&alt1.events&&alt1.events[t];if(a){var r=a.indexOf(n);-1!=r&&a.splice(r,1)}}e.hasAlt1Version=g,e.getMousePosition=function(){var t=alt1.mousePosition;return-1==t?null:{x:t>>>16,y:65535&t}},e.addResizeElement=function(t,n,a,r,i){e.hasAlt1&&alt1.userResize&&t.addEventListener("mousedown",function(t){alt1.userResize(n,a,r,i),t.preventDefault()})},e.on=m,e.removeListener=p,e.once=function(t,e){var n=a=>{p(t,n),e(a)};m(t,n)};class b{constructor(t,...e){this.framebuffer=null,this.pos=0,this.reading=!1,this.closed=!1,this.pausedindex=-1,this.pausedbuffer=null,this.streamreader=t,e[0]instanceof o.ImageData?this.setFrameBuffer(e[0]):"number"==typeof e[0]&&this.setFrameBuffer(new o.ImageData(e[0],e[1]))}setFrameBuffer(t){if(this.reading)throw new Error("can't change framebuffer while reading");this.framebuffer=t}close(){this.streamreader.cancel()}async nextImage(){if(this.reading)throw new Error("already reading from this stream");if(!this.framebuffer)throw new Error("framebuffer not set");this.reading=!0,Date.now(),Date.now();for(var t=!1;!t;)if(-1!=this.pausedindex&&this.pausedbuffer)t=this.readChunk(this.pausedindex,this.framebuffer.data,this.pausedbuffer);else{Date.now();var e=await this.streamreader.read();if(Date.now(),e.done)throw new Error("Stream closed while reading");var n=e.value;t=this.readChunk(0,this.framebuffer.data,n)}return Date.now(),this.reading=!1,this.framebuffer}readChunk(t,e,n){t|=0;for(var a=0|e.length,r=this.pos,i=0|n.length;t<i;){for(;t<i&&r<a&&(r%16!=0||!((t+16|0)<=i&&(r+16|0)<=a));){var o=r;r%4==0&&(o=o+2|0),r%4==2&&(o=o-2|0),e[0|o]=n[0|t],t=t+1|0,r=r+1|0}if(r%16==0)for(;(t+16|0)<=i&&(r+16|0)<=a;)e[r+0|0]=n[t+2|0],e[r+1|0]=n[t+1|0],e[r+2|0]=n[t+0|0],e[r+3|0]=n[t+3|0],e[r+4|0]=n[t+6|0],e[r+5|0]=n[t+5|0],e[r+6|0]=n[t+4|0],e[r+7|0]=n[t+7|0],e[r+8|0]=n[t+10|0],e[r+9|0]=n[t+9|0],e[r+10|0]=n[t+8|0],e[r+11|0]=n[t+11|0],e[r+12|0]=n[t+14|0],e[r+13|0]=n[t+13|0],e[r+14|0]=n[t+12|0],e[r+15|0]=n[t+15|0],r=r+16|0,t=t+16|0;if(r>=a)return this.pausedbuffer=null,this.pausedindex=-1,this.pos=0,t!=n.length-1&&(this.pausedbuffer=n,this.pausedindex=t),!0}return this.pos=r,this.pausedbuffer=null,this.pausedindex=-1,!1}}async function w(...t){c();var e=r.default.fromArgs(...t);if(alt1.captureAsync){let t=await alt1.captureAsync(e.x,e.y,e.width,e.height);return new o.ImageData(t,e.width,e.height)}if(!g("1.4.6"))return l(e.x,e.y,e.width,e.height);var n="https://alt1api/pixel/getregion/"+encodeURIComponent(JSON.stringify(Object.assign(Object.assign({},e),{format:"raw",quality:1}))),a=await fetch(n);return new b(a.body.getReader(),e.width,e.height).nextImage()}e.ImageStreamReader=b,e.captureAsync=w,e.captureMultiAsync=async function(t){c();var e={};if(alt1.captureMultiAsync){let n=await alt1.captureMultiAsync(t);for(let a in t)n[a]||(e[a]=null),e[a]=new o.ImageData(n[a],t[a].width,t[a].height);return e}var n=[],a=[];for(var r in t)t[r]?(n.push(t[r]),a.push(r)):e[r]=null;if(0==n.length)return e;if(g("1.5.1")){var i=await fetch("https://alt1api/pixel/getregionmulti/"+encodeURIComponent(JSON.stringify({areas:n,format:"raw",quality:1}))),s=new b(i.body.getReader());for(u=0;u<n.length;u++){var d=n[u];s.setFrameBuffer(new o.ImageData(d.width,d.height)),e[a[u]]=await s.nextImage()}}else{for(var l=[],u=0;u<n.length;u++)l.push(w(n[u]));var h=await Promise.all(l);for(u=0;u<n.length;u++)e[a[u]]=h[u]}return e},e.captureStream=function(t,e,n,a,r,i,o){if(c(),!g("1.4.6"))throw new d("This function is not supported in this version of Alt1");var s="https://alt1api/pixel/streamregion/"+encodeURIComponent(JSON.stringify({x:t,y:e,width:n,height:a,fps:r,format:"raw"})),l=(fetch(s).then(async t=>{var e=new b(t.body.getReader(),n,a);try{for(;!e.closed&&!l.closed;){var r=await e.nextImage();l.closed||(i(r),l.framenr++)}}catch(t){if(!l.closed){if(e.close(),!o)throw t;o(t)}}!e.closed&&l.closed&&e.close()}),{x:t,y:e,width:n,height:a,framenr:0,close:()=>{l.closed=!0},closed:!1});return l}},canvas(t){if(void 0===e){var n=new Error("Cannot find module 'canvas'");throw n.code="MODULE_NOT_FOUND",n}t.exports=e},"electron/common"(t){if(void 0===n){var e=new Error("Cannot find module 'electron/common'");throw e.code="MODULE_NOT_FOUND",e}t.exports=n},sharp(e){if(void 0===t){var n=new Error("Cannot find module 'sharp'");throw n.code="MODULE_NOT_FOUND",n}e.exports=t}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;if(void 0===a[t]){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=r[t]={exports:{}};return a[t].call(o.exports,o,o.exports,i),o.exports}return i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i("./src/base/index.ts")})(),t.exports=a(function(){try{return n(288)}catch(t){}}(),function(){try{return n(44)}catch(t){}}(),function(){try{return n(780)}catch(t){}}())}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={id:a,exports:{}};return t[a](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";var t=n(303),e=n(72),a=n.n(e),r=n(825),i=n.n(r),o=n(659),s=n.n(o),d=n(56),c=n.n(d),l=n(540),u=n.n(l),h=n(113),f=n.n(h),g=n(365),m={};m.styleTagTransform=f(),m.setAttributes=c(),m.insert=s().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=u(),a()(g.A,m),g.A&&g.A.locals&&g.A.locals;var p=n(427),b=n.n(p),w=n(968),y=n.n(w),v=n(131),x=n.n(v);const A=new class{constructor(){this.lastKnownPosition=null}findInventory(t){if(this.lastKnownPosition){const e=this.buildInventoryGrid(this.lastKnownPosition.x,this.lastKnownPosition.y);if(this.lastKnownPosition.x>=0&&this.lastKnownPosition.y>=0&&this.lastKnownPosition.x+e.width<=t.width&&this.lastKnownPosition.y+e.height<=t.height)return e}const e=t.findSubimage(b());if(e.length>0){const t=e[0].x+7,n=e[0].y+36;return this.lastKnownPosition={x:t,y:n},this.buildInventoryGrid(t,n)}const n=t.findSubimage(y());if(n.length>0)return this.calculateFromBottomIcons(n[0].x,n[0].y);const a=t.findSubimage(x());return a.length>0?this.calculateFromBottomIcons(a[0].x,a[0].y):null}calculateFromBottomIcons(t,e){const n=t,a=e-6-248;return this.lastKnownPosition={x:n,y:a},this.buildInventoryGrid(n,a)}buildInventoryGrid(t,e){const n=[];for(let a=0;a<7;a++)for(let r=0;r<4;r++){const i=t+42*r,o=e+36*a;n.push({x:i,y:o,width:36,height:32,imageData:null})}return{x:t,y:e,width:162,height:248,slots:n,found:!0}}captureSlots(t,e){const n=[];for(const a of e.slots)try{const e=t.toData(a.x,a.y,a.width,a.height);n.push({...a,imageData:e})}catch(t){n.push({...a,imageData:null})}return n}setInventoryPosition(t,e){this.lastKnownPosition={x:t,y:e}}clearPosition(){this.lastKnownPosition=null}getInventoryPosition(){return this.lastKnownPosition}isSlotEmpty(t){let e=0;const n=t.width*t.height;for(let n=0;n<t.data.length;n+=4){const a=t.data[n],r=t.data[n+1],i=t.data[n+2];Math.abs(a-62)<25&&Math.abs(r-53)<25&&Math.abs(i-41)<25&&e++}return e/n>.7}},I="inventoryTracker_registry",D=new class{constructor(){this.items=new Map,this.loadFromStorage()}registerItem(t,e){const n=this.generateId(),a={id:n,name:t,imageData:Array.from(e.data),width:e.width,height:e.height};return this.items.set(n,a),this.saveToStorage(),a}removeItem(t){const e=this.items.delete(t);return e&&this.saveToStorage(),e}getAllItems(){return Array.from(this.items.values())}getItem(t){return this.items.get(t)}findMatch(t){let e=null,n=0;for(const a of this.items.values()){const r=this.compareImages(t,a);r>n&&r>85&&(n=r,e=a)}return{item:e,confidence:n}}compareImages(t,e){if(t.width!==e.width||t.height!==e.height)return 0;const n=e.imageData,a=t.data;if(n.length!==a.length)return 0;let r=0,i=0;for(let t=0;t<a.length;t+=4)r+=(Math.abs(a[t]-n[t])+Math.abs(a[t+1]-n[t+1])+Math.abs(a[t+2]-n[t+2]))/3,i++;const o=r/i;return Math.max(0,100-o/255*100)}generateId(){return`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}saveToStorage(){try{const t=Array.from(this.items.entries());localStorage.setItem(I,JSON.stringify(t))}catch(t){console.error("Failed to save registry:",t)}}loadFromStorage(){try{const t=localStorage.getItem(I);if(t){const e=JSON.parse(t);this.items=new Map(e)}}catch(t){console.error("Failed to load registry:",t),this.items=new Map}}exportRegistry(){const t=Array.from(this.items.entries());return JSON.stringify(t,null,2)}importRegistry(t,e=!1){try{const n=JSON.parse(t);e||this.items.clear();for(const[t,a]of n){const n=e?this.generateId():t;this.items.set(n,{...a,id:n})}return this.saveToStorage(),!0}catch(t){return console.error("Failed to import registry:",t),!1}}clearRegistry(){this.items.clear(),this.saveToStorage()}get count(){return this.items.size}},E="inventoryTracker_session",S=new class{constructor(){this.previousCounts=new Map,this.sessionData=this.createNewSession(),this.loadFromStorage()}createNewSession(){return{items:new Map,startTime:new Date}}updateCounts(t){for(const[e,n]of t){const t=this.previousCounts.get(e)||0;let a=this.sessionData.items.get(e);a||(a={current:0,gathered:0,used:0},this.sessionData.items.set(e,a));const r=n-t;r>0?a.gathered+=r:r<0&&(a.used+=Math.abs(r)),a.current=n}for(const[e,n]of this.previousCounts)if(!t.has(e)&&n>0){let t=this.sessionData.items.get(e);t&&(t.used+=n,t.current=0)}this.previousCounts=new Map(t),this.saveToStorage()}getItemStats(t){return this.sessionData.items.get(t)}getAllStats(){return new Map(this.sessionData.items)}getActiveItems(){return Array.from(this.sessionData.items.entries()).filter(([t,e])=>e.gathered>0||e.used>0||e.current>0)}getSessionStartTime(){return this.sessionData.startTime}getSessionDuration(){return Date.now()-this.sessionData.startTime.getTime()}getFormattedDuration(){const t=this.getSessionDuration(),e=Math.floor(t/1e3),n=Math.floor(e/60),a=Math.floor(n/60);return a>0?`${a}h ${n%60}m`:n>0?`${n}m ${e%60}s`:`${e}s`}resetSession(){this.sessionData=this.createNewSession(),this.previousCounts.clear(),this.saveToStorage()}getSummary(){let t=0,e=0;for(const n of this.sessionData.items.values())t+=n.gathered,e+=n.used;return{totalGathered:t,totalUsed:e,uniqueItems:this.sessionData.items.size}}saveToStorage(){try{const t={items:Array.from(this.sessionData.items.entries()),startTime:this.sessionData.startTime.toISOString(),previousCounts:Array.from(this.previousCounts.entries())};localStorage.setItem(E,JSON.stringify(t))}catch(t){console.error("Failed to save session:",t)}}loadFromStorage(){try{const t=localStorage.getItem(E);if(t){const e=JSON.parse(t);this.sessionData={items:new Map(e.items),startTime:new Date(e.startTime)},this.previousCounts=new Map(e.previousCounts||[])}}catch(t){console.error("Failed to load session:",t),this.sessionData=this.createNewSession()}}exportSession(){const t={startTime:this.sessionData.startTime.toISOString(),duration:this.getFormattedDuration(),items:Array.from(this.sessionData.items.entries()).map(([t,e])=>({id:t,...e})),summary:this.getSummary()};return JSON.stringify(t,null,2)}};let C=!1,M=null,O=!1,R=null;const j=document.getElementById("status"),k=document.getElementById("btnScan"),F=document.getElementById("btnReset"),P=document.getElementById("btnRegister"),L=document.getElementById("registrationHelp"),U=document.getElementById("currentInventory"),B=document.getElementById("sessionTotals"),T=document.getElementById("registeredItems"),J=document.getElementById("autoScan"),N=document.getElementById("scanInterval"),K=document.getElementById("btnExport"),H=document.getElementById("btnImport"),z=document.getElementById("importFile"),G=document.getElementById("modal"),Y=document.getElementById("modalInput"),Z=document.getElementById("modalConfirm"),X=document.getElementById("modalCancel");let Q=null;function V(){if(t.hasAlt1){C=!0,t.identifyApp("./appconfig.json");const e=alt1.rsLinked?"RS linked":"RS not linked",n=alt1.permissionPixel?"pixel OK":"NO pixel permission";alt1.permissionPixel&&alt1.rsLinked?q("Ready - "+e,"connected"):alt1.permissionPixel?q(e+" - Open RS first","warning"):q(n+" - Enable in Alt1 Settings","warning"),W(!0)}else q("Alt1 not detected - Run in Alt1 browser","disconnected"),W(!1);k.addEventListener("click",_),F.addEventListener("click",rt),P.addEventListener("click",$),J.addEventListener("change",it),N.addEventListener("change",ot),K.addEventListener("click",lt),H.addEventListener("click",()=>z.click()),z.addEventListener("change",ut),Z.addEventListener("click",nt),X.addEventListener("click",at),Y.addEventListener("keypress",t=>{"Enter"===t.key&&nt()}),ct(),st(),dt()}function W(t){k.disabled=!t,P.disabled=!t}function q(t,e){j.textContent=t,j.className=`status ${e}`}function _(){if(C)try{if(!alt1.rsLinked)return void q("RS not detected - Make sure RS is running","warning");if(!alt1.permissionPixel)return void q("No pixel permission - Enable in Alt1 Settings","warning");const e=t.captureHoldFullRs();if(!e)return void q("Failed to capture screen","warning");const n=A.findInventory(e);if(!n||!n.found)return void q("Inventory not found","warning");M=n;const a=A.captureSlots(e,n);if(O)return void function(e,n){if(alt1.permissionOverlay)for(let e=0;e<n.length;e++){const a=n[e];alt1.overLayRect(t.mixColor(255,200,0),a.x,a.y,a.width,a.height,2e3,2)}q("Click a slot to register (Shift+Click)","warning"),function(){const e=setInterval(()=>{O&&t.captureHoldFullRs()},100);setTimeout(()=>clearInterval(e),5e3)}()}(0,a);const r=function(t){const e=new Map;for(const n of t){if(!n.imageData)continue;if(A.isSlotEmpty(n.imageData))continue;const t=D.findMatch(n.imageData);if(t.item&&t.confidence>85){const n=e.get(t.item.id)||0;e.set(t.item.id,n+1)}}return e}(a);S.updateCounts(r),st(),dt(),q("Scan complete","connected")}catch(t){console.error("Scan error:",t),q("Scan failed: "+t.message,"warning")}}function $(){O=!O,O?(P.textContent="Cancel Registration",P.classList.add("btn-secondary"),P.classList.remove("btn-accent"),L.classList.remove("hidden"),q("Registration mode - Scan and select slot","warning"),function(){if(C)try{const e=t.captureHoldFullRs();if(!e)return;const n=A.findInventory(e);if(!n||!n.found)return void q("Inventory not found","warning");M=n;const a=A.captureSlots(e,n);for(let e=0;e<a.length;e++){const n=a[e];if(n.imageData&&!A.isSlotEmpty(n.imageData)){const e=D.findMatch(n.imageData);if(!e.item||e.confidence<85)return Q=n.imageData,alt1.permissionOverlay&&alt1.overLayRect(t.mixColor(0,255,0),n.x,n.y,n.width,n.height,3e3,3),void tt()}}q("No unregistered items found","warning")}catch(t){console.error("Registration scan error:",t)}}()):(P.textContent="+ Register New Item",P.classList.remove("btn-secondary"),P.classList.add("btn-accent"),L.classList.add("hidden"),q("Connected to Alt1","connected"))}function tt(){G.classList.remove("hidden"),Y.value="",Y.focus()}function et(){G.classList.add("hidden"),Y.value=""}function nt(){const t=Y.value.trim();t&&Q&&(D.registerItem(t,Q),Q=null,et(),$(),ct(),q(`Registered: ${t}`,"connected"))}function at(){Q=null,et()}function rt(){S.resetSession(),st(),dt(),q("Session reset","connected")}function it(){if(J.checked){const t=parseInt(N.value,10);R=window.setInterval(_,t),q("Auto-scan enabled","connected")}else R&&(clearInterval(R),R=null),q("Auto-scan disabled","connected")}function ot(){if(J.checked&&R){clearInterval(R);const t=parseInt(N.value,10);R=window.setInterval(_,t)}}function st(){const t=S.getAllStats(),e=D.getAllItems();if(0===t.size)return void(U.innerHTML='<p class="empty-message">No items tracked yet</p>');let n="";for(const[a,r]of t)if(r.current>0){const t=e.find(t=>t.id===a);n+=`\n        <div class="item-row">\n          <span class="item-name">${ht(t?t.name:"Unknown")}</span>\n          <span class="item-count">${r.current}</span>\n        </div>\n      `}U.innerHTML=n||'<p class="empty-message">Inventory empty</p>'}function dt(){const t=S.getActiveItems(),e=D.getAllItems();if(0===t.length)return void(B.innerHTML='<p class="empty-message">No session data yet</p>');let n="";for(const[a,r]of t){const t=e.find(t=>t.id===a);n+=`\n      <div class="session-item">\n        <div class="item-name">${ht(t?t.name:"Unknown")}</div>\n        <div class="session-stats">\n          <span class="stat-gathered">Gathered: ${r.gathered}</span>\n          <span class="stat-used">Used: ${r.used}</span>\n        </div>\n      </div>\n    `}B.innerHTML=n}function ct(){const t=D.getAllItems();if(0===t.length)return void(T.innerHTML='<p class="empty-message">No items registered</p>');let e="";for(const n of t)e+=`\n      <div class="registered-item">\n        <span>${ht(n.name)}</span>\n        <button class="btn btn-danger" onclick="removeRegisteredItem('${n.id}')"></button>\n      </div>\n    `;T.innerHTML=e}function lt(){const t=D.exportRegistry(),e=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download="inventory-tracker-registry.json",a.click(),URL.revokeObjectURL(n),q("Registry exported","connected")}function ut(){const t=z.files?.[0];if(!t)return;const e=new FileReader;e.onload=t=>{const e=t.target?.result;D.importRegistry(e,!0)?(ct(),q("Registry imported","connected")):q("Import failed","warning")},e.readAsText(t),z.value=""}function ht(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}window.removeRegisteredItem=function(t){D.removeItem(t),ct()},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",V):V()})()})();